# å¯¼å…¥è·¯å¾„ä¿®å¤è¯´æ˜

## ğŸ”§ é—®é¢˜è¯´æ˜

**é”™è¯¯ä¿¡æ¯**ï¼š`ModuleNotFoundError: No module named 'src'`

**åŸå› **ï¼š
1. åœ¨ `scripts/test/test_register_api.py` ç­‰è„šæœ¬ä¸­ï¼Œç›´æ¥ä½¿ç”¨ `from src.models import ...` æ—¶ï¼ŒPython æ‰¾ä¸åˆ° `src` æ¨¡å—
2. ä»å­ç›®å½•è¿è¡Œè„šæœ¬æ—¶ï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸åœ¨ Python è·¯å¾„ä¸­
3. `src/app.py` ä¸­è¿˜æœ‰ä¸¤å¤„ä½¿ç”¨äº†æ—§çš„å¯¼å…¥è·¯å¾„ï¼ˆ`from models import User` å’Œ `from email_service import verify_code`ï¼‰

## âœ… ä¿®å¤æ–¹æ¡ˆ

### 1. åœ¨è„šæœ¬å¼€å¤´æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ° Python è·¯å¾„

æ‰€æœ‰ `scripts/` ç›®å½•ä¸‹çš„è„šæœ¬éƒ½éœ€è¦æ·»åŠ ï¼š

```python
import sys
from pathlib import Path

# æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ° Python è·¯å¾„
project_root = Path(__file__).parent.parent.parent  # scripts/test/ -> é¡¹ç›®æ ¹ç›®å½•
sys.path.insert(0, str(project_root))
```

### 2. ä¿®å¤ src/app.py ä¸­çš„æ—§å¯¼å…¥è·¯å¾„

- `from models import User` â†’ `from src.models import User`
- `from email_service import verify_code` â†’ `from src.email_service import verify_code`

### 3. Windows æ§åˆ¶å°ç¼–ç ä¿®å¤

æ·»åŠ  UTF-8 ç¼–ç æ”¯æŒï¼š

```python
import io
if sys.platform == 'win32':
    try:
        sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8', errors='replace')
        sys.stderr = io.TextIOWrapper(sys.stderr.buffer, encoding='utf-8', errors='replace')
    except AttributeError:
        pass
```

## ğŸ“ å·²ä¿®å¤çš„æ–‡ä»¶

1. âœ… `scripts/test/test_register_api.py` - æ·»åŠ è·¯å¾„è®¾ç½®å’Œç¼–ç ä¿®å¤
2. âœ… `å¿«é€Ÿæµ‹è¯•ç”¨æˆ·æ³¨å†Œ.py` - æ·»åŠ è·¯å¾„è®¾ç½®å’Œç¼–ç ä¿®å¤
3. âœ… `src/app.py` - ä¿®å¤ä¸¤å¤„æ—§çš„å¯¼å…¥è·¯å¾„

## ğŸš€ ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†

è¿è¡Œæµ‹è¯•è„šæœ¬ï¼š

```bash
python scripts/test/test_register_api.py
```

æˆ–

```bash
python å¿«é€Ÿæµ‹è¯•ç”¨æˆ·æ³¨å†Œ.py
```

## ğŸ’¡ æç¤º

å¦‚æœè¿˜æœ‰å…¶ä»–è„šæœ¬é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. **åœ¨è„šæœ¬å¼€å¤´æ·»åŠ è·¯å¾„è®¾ç½®**ï¼ˆæ¨èï¼‰
2. **æˆ–è€…ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œè„šæœ¬**ï¼š
   ```bash
   python -m scripts.test.test_register_api
   ```

