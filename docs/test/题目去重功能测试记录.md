# 题目去重功能测试记录

## 📋 测试概述

本文档记录题目去重功能的测试进度、类型安排和测试结果。

---

## 🎯 测试目标

1. **功能验证**：验证完整去重流程的正确性
2. **性能测试**：测试处理速度和资源消耗
3. **数据验证**：验证重复检测的准确性和特征数据的完整性
4. **类型覆盖**：逐步测试不同类型的题目分组

---

## 📊 测试数据概览

### 数据库统计

- **总分组数**：537 个分组
- **总题目数**：85,549 题

### 按题型统计

| 题型 | 分组数 | 题目数 |
|------|--------|--------|
| 单选题 | 163 | 48,612 |
| 填空题 | 160 | 22,662 |
| 多选题 | 125 | 11,464 |
| 判断题 | 45 | 2,050 |
| 计算分析题 | 44 | 761 |

---

## ✅ 测试计划

### 测试策略

1. **单分组测试**：先从题目数量适中的分组开始测试（10-500题）
2. **多分组测试**：验证多个分组的处理能力
3. **全量测试**：最后进行全量数据测试

### 测试类型选择标准

- **小规模测试**（10-100题）：快速验证功能正确性
- **中等规模测试**（100-500题）：测试性能和准确性
- **大规模测试**（500-2000题）：测试处理能力和稳定性
- **超大规模测试**（2000+题）：压力测试

---

## 🧪 测试记录

### 测试 1：填空题 - 中国现代文学史（中等规模）

**测试时间**：2026-01-03

**测试分组信息**：
- **题型**：填空题 (type: 4)
- **科目**：中国现代文学史(00537) (subject_id: 189)
- **渠道**：zxx
- **题目数**：255 题

**测试结果**：

| 指标 | 结果 |
|------|------|
| 处理时间 | 0.24 秒 |
| 总题目数 | 255 |
| 完全重复组数 | 11 组 |
| 完全重复题目数 | 24 题 |
| 完全重复对数 | 15 对 |
| 相似重复对数 | 1 对 |
| 特征数据保存数 | 242 条 |

**详细结果**：

1. **完全重复检测**
   - 检测到 11 个完全重复组
   - 涉及 24 道题目
   - 生成 15 对完全重复关系
   - 最大组包含 3 道相同题目

2. **相似重复检测**
   - 检测到 1 对相似重复题目
   - 相似度：0.9333（90%-95%区间）
   - 题目ID：5527 <-> 5695

3. **性能表现**
   - 处理速度：约 1,062 题/秒
   - 内存占用：正常（未监控）
   - CPU使用：正常（未监控）

4. **数据完整性**
   - 特征数据保存：242 条（包括完全重复组的代表题目和所有非重复题目）
   - 所有步骤执行正常，无错误

**验证点**：
- ✅ 数据清洗正常
- ✅ 完全重复检测正常
- ✅ N-gram提取正常
- ✅ MinHash生成正常
- ✅ LSH分桶正常
- ✅ 相似度计算正常
- ✅ 特征数据保存正常

**测试结论**：✅ **通过**

---

## 📝 测试日志文件

测试详细日志保存在：`test_dedup_log.json`

日志包含：
- 测试日期和时间
- 测试分组信息
- 测试状态（started/completed/error）
- 测试结果详情
- 处理时间等性能指标

---

## 🎯 后续测试计划

### 待测试类型

1. **单选题分组**（推荐题目数：100-300题）
   - 验证不同科目的单选题去重效果
   - 测试处理速度和准确性

2. **多选题分组**（推荐题目数：50-200题）
   - 验证多选题的去重效果
   - 测试特征提取的准确性

3. **判断题分组**（推荐题目数：20-100题）
   - 验证判断题的去重效果
   - 测试短文本的处理能力

4. **计算分析题分组**（推荐题目数：10-50题）
   - 验证长文本题目的处理能力
   - 测试包含公式和图片的题目处理

### 测试优先级

1. **高优先级**：单选题（数量最多，最重要）
2. **中优先级**：多选题、填空题
3. **低优先级**：判断题、计算分析题

---

## 📊 测试进度跟踪

| 题型 | 计划测试分组数 | 已完成 | 状态 |
|------|---------------|--------|------|
| 填空题 | 3-5 个 | 1 个 | 🟡 进行中 |
| 单选题 | 5-10 个 | 0 个 | ⚪ 待开始 |
| 多选题 | 3-5 个 | 0 个 | ⚪ 待开始 |
| 判断题 | 2-3 个 | 0 个 | ⚪ 待开始 |
| 计算分析题 | 2-3 个 | 0 个 | ⚪ 待开始 |

**总体进度**：1 / 15-26 = 约 4-7%

---

## 🔍 测试注意事项

1. **数据备份**：测试前建议备份数据库
2. **环境隔离**：使用测试数据库进行测试
3. **性能监控**：关注处理时间和资源消耗
4. **结果验证**：对检测到的重复题目进行人工复核
5. **日志保存**：所有测试日志都要保存，便于问题追踪

---

## 🐛 已知问题

暂无

---

## 📈 性能基准

基于当前测试结果：

- **处理速度**：约 1,000 题/秒（255题/0.24秒）
- **内存占用**：未监控（建议后续测试中监控）
- **数据库写入**：正常（242条特征数据）

**性能评估**：✅ 优秀（满足预期）

---

**最后更新**：2026-01-03  
**测试人员**：系统测试  
**文档版本**：v1.0

