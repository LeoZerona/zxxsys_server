# 数据库快速切换指南

## 🎯 快速切换方法

### 方法一：使用 `.env` 文件（推荐）

在项目根目录创建 `.env` 文件：

#### 使用 MySQL
```env
DB_TYPE=mysql
MYSQL_USER=root
MYSQL_PASSWORD=123456
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=test
```

#### 使用 SQLite
```env
DB_TYPE=sqlite
SQLITE_DB_PATH=app.db
```

### 方法二：使用环境变量（临时）

#### Windows PowerShell

**切换到 MySQL**：
```powershell
$env:DB_TYPE="mysql"
python app.py
```

**切换到 SQLite**：
```powershell
$env:DB_TYPE="sqlite"
python app.py
```

#### Windows CMD

**切换到 MySQL**：
```cmd
set DB_TYPE=mysql
python app.py
```

**切换到 SQLite**：
```cmd
set DB_TYPE=sqlite
python app.py
```

---

## 📊 配置说明

### MySQL 配置（账号: root, 密码: 123456）

默认配置：
- 用户: `root`
- 密码: `123456`
- 主机: `localhost:3306`
- 数据库: `test`

可通过环境变量修改：
- `MYSQL_USER` - 用户名
- `MYSQL_PASSWORD` - 密码
- `MYSQL_HOST` - 主机地址
- `MYSQL_PORT` - 端口
- `MYSQL_DATABASE` - 数据库名

### SQLite 配置

默认配置：
- 数据库文件: `app.db`（项目根目录）

可通过环境变量修改：
- `SQLITE_DB_PATH` - 数据库文件路径（相对或绝对路径）

---

## ✅ 验证配置

启动服务后，查看控制台输出：

**MySQL 示例**：
```
数据库类型: MySQL
   数据库: test
   用户: root@localhost
✅ 数据库连接正常
```

**SQLite 示例**：
```
数据库类型: SQLite
   数据库文件: app.db
✅ 数据库连接正常
```

---

## 🔄 当前默认配置

- **默认数据库**: MySQL（`root@localhost:3306/test`）
- **切换到 SQLite**: 设置 `DB_TYPE=sqlite`

---

## 💡 提示

1. **重启服务**: 修改配置后必须重启 Flask 服务
2. **数据独立**: SQLite 和 MySQL 的数据是独立的，不会自动迁移
3. **测试用例**: 已配置为使用 MySQL test 数据库

