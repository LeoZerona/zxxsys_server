| group_type | VARCHAR(2) | 题型 | ✅ |
| group_subject_id | INT | 科目 ID | ✅ |
| group_channel_code | VARCHAR(20) | 渠道代码 | ✅ |
| created_at | DATETIME | 创建时间 | |

**唯一约束**：`(task_id, question_id)`

**用途**：

- 存储题目的特征数据（清洗后的内容、哈希值、N-gram、MinHash 指纹等）
- 支持按特征数据进行查询和分析
- 可用于优化查询性能（通过哈希值快速匹配）
- 保留历史特征数据，支持多次去重对比

---

## 🔗 表关系图

```
dedup_tasks (1) ────< (N) question_duplicate_pairs
                  │
                  ├───< (N) question_duplicate_groups
                  │              │
                  │              └───< (N) question_duplicate_group_items
                  │
                  └───< (N) question_dedup_features
```

**关系说明**：

- `dedup_tasks` 是主表，每个任务记录对应多个其他表的记录
- `question_duplicate_pairs`：存储重复题目对（一对多关系）
- `question_duplicate_groups`：存储完全重复组（一对多关系）
- `question_duplicate_group_items`：存储组内题目明细（多对多关系，通过 group_id 关联）
- `question_dedup_features`：存储题目特征数据（一对多关系）

---

## 📝 数据流程

### 去重任务执行流程

1. **创建任务记录** → `dedup_tasks` 表

   - 初始化任务状态为 `pending`
   - 记录任务配置和元信息

2. **处理分组** → 对每个分组：

   - 清洗题干 → 存储到 `question_dedup_features.cleaned_content`
   - 计算哈希值 → 存储到 `question_dedup_features.content_hash`
   - 提取 N-gram → 存储到 `question_dedup_features.ngram_json`
   - 生成 MinHash → 存储到 `question_dedup_features.minhash_json`

3. **检测完全重复** →

   - 创建组记录 → `question_duplicate_groups` 表
   - 创建组内题目记录 → `question_duplicate_group_items` 表
   - 创建重复对记录 → `question_duplicate_pairs` 表（duplicate_type='exact'）

4. **检测相似重复** →
   - 创建重复对记录 → `question_duplicate_pairs` 表（duplicate_type
